## 확률 
# 확률은 경우의 수에서 생각할 수 있는 모든 경우의 수 중에 우리 관심을 갖는 경우의 수가 
# 차지하는 비율로 생각할 수 있다. 

## ==용어==
## -시행 : 다양한 결과가 나올 수 있는 어떤 것을 실제로 하는 것을 말함.
##       ex) 주사위 던진다 , 복권을 긁는다, ...
## -표본공간 : 가능한 모든 결과의 모임. 예로 동전 던지기의 경우 한번 던지면 (앞, 뒤)
##         두번 던지면 {(앞,앞), (앞,뒤), (뒤,앞), (뒤,뒤)}, 814만분의 1이 표본공간
## -사건 : 가능한 결과들 중 어떤 요구 사항을 만족하는 것, 
##      로또 복권 추첨 결과 "여섯개의 숫가 연속이다", "모두 홀수가 나온다".. 등 
##      중요한 것은 "사건"이 단 하나의 결과를 의미하지 않을 않을 수도 있다는 점... 
## -배반사건 : 동시에 일어날 수 없는 두 사건. 복권에서 "모두 짝수가 나온다"는 사건과 
##        "모두 홀수가 나온다"는 사건은 동시에 일어날 수 없다는 사건 관계
## -여사건 : 어떤 사건이 일어나지 않는 것을 말함. 
##        복권 추첨결과가 "모든 숫자가 짝수다"의 여사건은 "모든 숫자가 짝수인 것은 
##        아니다". 즉, "적어도 하나는 홀수이다."
## 수학적으로는 이들을 모두 집합으로 표현할 수 있다. 
## 사건은 표본공간의 부분집합으로 정의, 공집합도 표본공간의 부분집합이기 때문에 사건..

### 수학적 확률
# 수학적인 활률은 어떤 가능한 모든 결과의 개수로 표현할 수 있다. 
# 주사위를 두번 던졌을 경우 모든 경우의 수는 6*6 = 36 , "두 값을 곱했을 때 홀수가 나온다"
# 사건을 생각해보면 두값을 곱했을 경우, 두값 모두 홀수여야 한다. 이때의 경우수는 3*3=9
# 수학적 확률 계산은 9/36 이것은 0.25가 됨을 알 수 있다. 
# 다만, 여기서 중요한 포인트는 표본공간의 모든 경우가 나올 수 있는 가능성은 같아야 한다.
# 이 조건이 만족되어야 한다. 

### 통계적 확률
# 통계적 확률은 수학적 확률에 비해 더 구체적으로 접근한다. 통계적 확률은 "전체 시행 횟수
# 중 특정 사건이 일어나는 횟수의 비율로 표현". 전체 시행 횟수는 n이라고하고, 했을 때에
# 특정 사건이 일어날 횟수를 r이라고 하면 그 사건이 일어날 비율은 r/n 된다. 
#   일반적으로 통계적 확률은 수학적 확률과 정확히 일치하지 않는다. 대신 횟수를 무한정
# 늘리면 통계적 확률은 결국 수학적 확률에 근접하게 된다. 

### 극한의 의미
# 통계적 확률이 수학적 확률에 한없이 가까워 진다는 이야기는 시행 횟수가 무한정 늘어나는
# 극한을 가정하기 때문이다. 두가지 의미와 관련되어 있다.
#   첫번째, 시행횟수를 무한히 늘렸을 때, 수학적 확률에 통계적 확률이 근접합니다. 하지만,
# 시행 횟수가 적다면 우연에 의해서 수학적 확률에 벗어나는 경우가 종종 생긴다는 점이다. 
# 통계학에서는 이것을 표집오차(Sampling Error)라고 합니다. 이것은 시행 횟수가 늘어날 
# 수록 점점 줄어드는 성질을 가지고 있다. 결국에는 0에 매우 가까워지게 된다 것이다.
#   두번째, 한없이 가까워진다. 가까워진다는 말은 두 가지 의미를 포함한다. 수학적 확률과
# 통계적 확률간의 차이가 0에 가까워진다점이다. 단, 절대로 0이된다는 것은 아님.

### 큰 수의 법칙
# 큰 수의 법칙(Law of large number)은 실제 자료의 값으로 계산한 평균, 즉, 표본평균이
# 자료의 크기 커짐에 따라서 한없이 특정 값에 가까워 진다는 것을 말함. 여기서 특정값은
# 확률용어로 기댓값(Expected Value)를 말합니다. 
#  통계적 확률은 큰 수의 법칙의 특수한 경우에 지나지 않는데 이유는 비율 자체가 일종의
# 표본 평균이기 때문입니다. 특정 값이 나오는 결과값의 합에 시행횟수로 나누면 이건 통게적
# 확률이 되고, 이것은 기록된 값의 평균이기도 하다. 
#  애초 평균이란 자료의 총합을 자료의 개수로 나눠준 것이기 때문이다. 즉, 큰 수의 법칙이 
# 적용된다는 것이다. 시행 횟수가 많아짐에 따라서 성공비율 또는 통게적 확률은 기대값에
# 가까워진다는 것을 알 수 있다. 여기서 말하는 기댓값은 수학적 확률을 의미함. 

# 동전을 5회 던졌을 때의 경우 예
# 앞 : 1, 뒤: 0
# 시행 값 : 1 0 0 0 1
# 총합 : 2
# 평균 : 2/5 = 0.4

# 동전을 20회 던졌을 때의 경우 예
# 앞 : 1, 뒤: 0
# 시행 값 : 1 1 1 0 0 1 0 1 0 0 1 0 1 1 1 1 0 0 0 1
# 총합 : 11
# 평균 : 11/20 = 0.55

## R을 이용한 시뮬레이션
# 동전 던지기 결과는 가능하는 경우 두가지로 앞면, 뒷면 이고, 이 둘은 서로가 서로의
# 여사건 관계이다. 따라서 이들의 확률은 앞면이 나올 확률만 정하면, 뒷면이 나올 확률은
# 1에서 앞면이 나올 확률을 빼면 된다.
## 이때 확률을 P라고 하면, 이렇게 가능한 결과는 두개 없고, 성공확률이 정해져 있는 
## 확률 시행을 "베르누이 시행(Bernoulli trial)"이라고 한다. 


# R에서 사용하는 베르누이 시행 함수 rbinom()
# r의 의미는 랜덤을 의미함. R에서 확률적 난수를 생성하는 것을 의미하는 것으로 사용함. 
# binom은 우리말로 이항이라고 번역되는 binomial단어의 축약형입니다. 
# 베르누이 시행은 이항시행의 일종입니다. 차이는 베르누이 시행에서는 한번만, 
# 이항 시행에서는 여러번 할 수 있다는 점입니다. 

## rbinom()함수 형식
## rbinom(난수의 개수(시행횟수의 결과), 시행횟수, 성공 확률)
# 난수 갯수는 난수의 갯수를 의미로 앞에 설명한 백터에 저장된다. 
# 성공 확률은 0과 1사이의 숫자를 사용함. 

## 동전 던지기 : 5번 던진 결과, 그 확률 0.5, 0실패, 1은 성공.... 

```r
x <- rbinom(100000, 1, 0.5)   # 시행 결과

mean(x)
```